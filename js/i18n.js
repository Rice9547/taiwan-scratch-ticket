const I18N = {
  'zh-TW': {
    title: 'æ–°æ˜¥åˆ®åˆ®æ¨‚',
    subtitle: 'å°ç£æ–°å¹´ç‰¹åˆ¥ç‰ˆ',
    scratchHere: 'åˆ®é–‹æ­¤è™•',
    newTicket: 'å†ä¾†ä¸€å¼µ',
    instructions: 'ç”¨æ‰‹æŒ‡æˆ–æ»‘é¼ åˆ®é–‹éŠ€è‰²å€åŸŸ',
    game1Title: 'éŠæˆ²ä¸€ï¼šå¹¸é‹è™Ÿç¢¼',
    game1Desc: 'å°ä¸­ä»»ä¸€ä¸­çŽè™Ÿç¢¼ï¼Œå³å¯ç²å¾—è©²æ ¼çŽé‡‘ï¼',
    winningNumbers: 'ä¸­çŽè™Ÿç¢¼',
    myNumbers: 'æˆ‘çš„è™Ÿç¢¼',
    game2Title: 'éŠæˆ²äºŒï¼šåˆ®å‡ºç›¸åŒé‡‘é¡',
    game2Desc: 'åˆ®å‡ºä¸‰å€‹ç›¸åŒé‡‘é¡ï¼Œå³å¯ç²å¾—è©²çŽé‡‘ï¼',
    game3Title: 'åŠ ç¢¼ç´…åˆ©',
    game3Desc: 'ä¸‰å€‹éƒ½æ˜¯ ðŸ§§ å°±ä¸­ç´…åˆ©çŽé‡‘ï¼',
    bonusPrize: 'ç´…åˆ©çŽé‡‘',
    youWon: 'æ­å–œä¸­çŽï¼',
    totalWin: 'ç¸½å…±è´å¾—',
    noWin: 'å†æŽ¥å†åŽ²ï¼',
    noWinSub: 'å¥½é‹å°±åœ¨ä¸‹ä¸€å¼µ',
    culturalTitle: 'ä½ çŸ¥é“å—Žï¼Ÿ',
    culturalFacts: [
      'åˆ®åˆ®æ¨‚æ˜¯å°ç£éŽå¹´æœ€å—æ­¡è¿Žçš„æ´»å‹•ä¹‹ä¸€ï¼è¨±å¤šäººæœƒè²·ä¾†è©¦æ‰‹æ°£ï¼Œå¸Œæœ›æ–°çš„ä¸€å¹´å¥½é‹æ—ºæ—ºã€‚',
      'å°ç£äººéŽå¹´æ™‚æœƒåœ¨é–€ä¸Šè²¼æ˜¥è¯ï¼Œç”¨ç´…ç´™å¯«ä¸Šå‰ç¥¥è©±ç¥ˆæ±‚å¥½é‹å’Œå¹³å®‰ã€‚',
      'ç´…åŒ…ï¼ˆå£“æ­²éŒ¢ï¼‰æ˜¯é•·è¼©çµ¦æ™šè¼©çš„ç¥ç¦ï¼Œç´…è‰²è±¡å¾µå–œæ°£èˆ‡å¥½é‹ã€‚',
      'éŽå¹´æœŸé–“ï¼Œå°ç£å„åœ°çš„å»Ÿå®‡æœƒèˆ‰è¾¦ç†±é¬§çš„æ…¶å…¸æ´»å‹•ï¼ŒåŒ…æ‹¬æ¶é ­é¦™å’Œé»žå…‰æ˜Žç‡ˆã€‚',
      'å¹´å¤œé£¯æ˜¯å°ç£éŽå¹´æœ€é‡è¦çš„ä¸€é¤ï¼Œå…¨å®¶äººåœ˜èšåœ¨ä¸€èµ·åƒåœ˜åœ“é£¯ã€‚',
      'å°ç£éŽå¹´å¿…åƒçš„å¹´èœåŒ…æ‹¬ï¼šé•·å¹´èœï¼ˆé•·å£½ï¼‰ã€é­šï¼ˆå¹´å¹´æœ‰é¤˜ï¼‰ã€è˜¿è””ç³•ï¼ˆå¥½å½©é ­ï¼‰ã€‚',
      'é™¤å¤•å¤œå®ˆæ­²æ˜¯å°ç£çš„å‚³çµ±ç¿’ä¿—ï¼Œæ“šèªªå®ˆæ­²å¯ä»¥ç‚ºçˆ¶æ¯ç¥ˆç¦å»¶å£½ã€‚',
    ],
    ticketSerial: 'å½©åˆ¸ç·¨è™Ÿ',
    footer: 'æœ¬éŠæˆ²åƒ…ä¾›å¨›æ¨‚åŠæ–‡åŒ–æ•™è‚²ç”¨é€”',
  },
  'en-US': {
    title: 'Scratch & Win',
    subtitle: 'Taiwan Lunar New Year Edition',
    scratchHere: 'Scratch Here',
    newTicket: 'New Ticket',
    instructions: 'Use your finger or mouse to scratch the silver area',
    game1Title: 'Game 1: Lucky Numbers',
    game1Desc: 'Match any winning number to win the prize!',
    winningNumbers: 'Winning Numbers',
    myNumbers: 'My Numbers',
    game2Title: 'Game 2: Match Three',
    game2Desc: 'Find 3 matching amounts to win!',
    game3Title: 'Bonus Round',
    game3Desc: 'All three ðŸ§§ = bonus prize!',
    bonusPrize: 'Bonus Prize',
    youWon: 'You Won!',
    totalWin: 'Total Won',
    noWin: 'Better Luck Next Time!',
    noWinSub: 'Good fortune awaits on the next ticket',
    culturalTitle: 'Did You Know?',
    culturalFacts: [
      'Scratch tickets (åˆ®åˆ®æ¨‚, guÄ guÄ lÃ¨) are one of the most popular Lunar New Year activities in Taiwan!',
      'Taiwanese people paste spring couplets (æ˜¥è¯, chÅ«n liÃ¡n) on their doors â€” red paper with blessings.',
      'Red envelopes (ç´…åŒ…, hÃ³ng bÄo) filled with money are given by elders as blessings. Red symbolizes luck.',
      'During Lunar New Year, temples across Taiwan host colorful festivals, including racing to offer the first incense (æ¶é ­é¦™).',
      'The reunion dinner (å¹´å¤œé£¯, niÃ¡n yÃ¨ fÃ n) on New Year\'s Eve is the most important meal of the year.',
      'Traditional dishes include: long vegetables (longevity), fish (abundance, å¹´å¹´æœ‰é¤˜), and turnip cake (good fortune, å¥½å½©é ­).',
      'Staying up on New Year\'s Eve (å®ˆæ­², shÇ’u suÃ¬) is believed to bring longevity to one\'s parents.',
    ],
    ticketSerial: 'Ticket No.',
    footer: 'This game is for entertainment and cultural education purposes only',
  }
};

let currentLang = 'zh-TW';

export function t(key) {
  return I18N[currentLang][key] || key;
}

export function getLang() {
  return currentLang;
}

export function setLanguage(lang) {
  currentLang = lang;
  document.documentElement.lang = lang === 'zh-TW' ? 'zh-Hant' : 'en';
  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.classList.toggle('active', btn.dataset.lang === lang);
  });
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.dataset.i18n;
    if (I18N[currentLang][key]) el.textContent = I18N[currentLang][key];
  });
  showRandomFact();
}

export function showRandomFact() {
  const facts = I18N[currentLang].culturalFacts;
  const el = document.getElementById('cultural-fact');
  if (el) el.textContent = facts[Math.floor(Math.random() * facts.length)];
}
